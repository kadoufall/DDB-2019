package Test.Die.Others;

import Test.ConnectWC;
import transaction.WorkflowController;

public class Funlock {
	public static void main(String[] a){
		
		 WorkflowController wc = ConnectWC.connect();
		 try{
			int xid;
			xid = wc.start();	                       
			wc.addFlight(xid, "347", 100, 310);
			wc.commit(xid);

			xid = wc.start();
			xid = wc.start();
			wc.addFlight(xid, "347", 100, 620);
			wc.queryFlight(xid, "347");
			wc.dieTMafterCommit();
			wc.commit(xid);
			////////////// except java.rmi.RemoteException
                                   	////////////// except
			
		 }catch(Exception e){
			 System.out.println("Funlock exception "+e.getMessage());
		 }
	}
}
